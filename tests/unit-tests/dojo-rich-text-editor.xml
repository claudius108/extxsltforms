<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="../resources/xsltforms/xsltforms.xsl" type="text/xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exfk="http://kuberam.ro/exsltforms" xmlns:ev="http://www.w3.org/2001/xml-events"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<title>Dojo rich text editor</title>
		<style language="text/css">
		<![CDATA[
			@namespace xf url("http://www.w3.org/2002/xforms");
			#outputSavedContent .xforms-label {margin-bottom:25px;margin-right:490px;font:bold 14px verdana;}
		]]>
		</style>
		<link rel="stylesheet" href="../../../utils/dojo/dijit/themes/tundra/tundra.css" />
		<xf:model id="m">
			<xf:instance id="i0">
				<v xmlns="">
					<description>&lt;p&gt;&lt;strong&gt;&lt;span style="font-size: 16px;"&gt;Instructions for testing the integration
						of CKEditor into XSLTForms&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
						&lt;p&gt;In order to save the editor content to
						bounded node, please modify this text and leave the editor.&lt;/p&gt; </description>
				</v>
			</xf:instance>
			<xf:instance id="i1">
				<Address xmlns="">
					<LocationStreet date="2010-05-01">Street 1 </LocationStreet>
					<LocationStreet date="2010-05-02">Street 2 </LocationStreet>
					<LocationStreet date="2010-05-03">Street 3 </LocationStreet>
				</Address>
			</xf:instance>
		</xf:model>
	</head>
	<body class="tundra">
		<p>
			<xf:output id="outputSavedContent" ref="instance('i0')/description">
				<xf:label>Saved editor content: </xf:label>
			</xf:output>
		</p>
		<p>
			<xf:textarea ref="instance('i0')/description" appearance="exfk:DojoEditor" incremental="true">
				<xf:label>Dojo editor 1 (it has @incremental = "true"):</xf:label>
				<xf:extension>
					<exfk:rteOptions>{items: ['bold', 'italic', 'underline', 'strikethrough']}</exfk:rteOptions>
				</xf:extension>
			</xf:textarea>
		</p>
		<h2>Editors within a xf:repeat</h2>
		<!-- <xf:repeat nodeset="instance('i1')/LocationStreet"> -->
		<!-- <xf:textarea ref="." appearance="exfk:DojoEditor" incremental="true"> -->
		<!-- <xf:label>Dojo editor 1 (it has @incremental = "true"):</xf:label> -->
		<!-- <xf:extension> -->
		<!-- <exfk:rteOptions>{items: ['bold', 'italic', 'underline', 'strikethrough']}</exfk:rteOptions> -->
		<!-- </xf:extension> -->
		<!-- </xf:textarea> -->
		<!-- </xf:repeat> -->
	</body>
</html>

/* XsltForms_MagicSeparator */
function xsltforms_initImpl() {
XsltForms_globals.language = "navigator";
XsltForms_globals.loadingMsg = "... Loading ...";
XsltForms_globals.valuesSeparator = " ";
XsltForms_globals.debugMode = false;
XsltForms_globals.xsltEngine = "Transformiix http://www.mozilla.org/projects/xslt/ ";
XsltForms_browser.jsFileName='xsltforms.js';
XsltForms_browser.isXhtml = false;
XsltForms_globals.ltchar = "<"; XsltForms_browser.isEscaped = XsltForms_globals.ltchar.length != 1;
XsltForms_browser.config = null;
var xsltforms_subform_eltid = null;
var xsltforms_parentform = null;
/* XsltForms_MagicSeparator */ try {
XsltForms_browser.dialog.show('statusPanel');
var xsltforms_subform = new XsltForms_subform(xsltforms_parentform, "xsltforms-mainform", xsltforms_subform_eltid);
if (xsltforms_subform.id === "xsltforms-mainform") {
var d1 = new Date();
XsltForms_globals.htmltime = d1 - xsltforms_d0;
xf_model_extensions = XsltForms_model.create(xsltforms_subform, "xf-model-extensions",null,null,null);
XsltForms_instance.create(xsltforms_subform, "xf-instance-extensions", xf_model_extensions, false, 'application/xml', null, "<extensionRoot/>");
XsltForms_xpath.create(xsltforms_subform,"instance('xf-instance-extensions')",false,new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('xf-instance-extensions')));
}
XsltForms_xpath.create(xsltforms_subform,"instance('i0')/description",false,new XsltForms_pathExpr(new XsltForms_functionCallExpr('http://www.w3.org/2002/xforms instance',new XsltForms_cteExpr('i0')),new XsltForms_locationExpr(false,new XsltForms_stepExpr('child',new XsltForms_nodeTestName('','description')))));
XsltForms_instance.create(xsltforms_subform,"i0",xsltforms_model_8_2_2_,false,"application/xml",null,'<v xmlns=""><description>&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Instructions for testing the integration&#xA; of CKEditor into XSLTForms&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&#xA; &lt;p&gt;In order to save the editor content to&#xA; bounded node, please modify this text and leave the editor.&lt;/p&gt; </description></v>');
XsltForms_instance.create(xsltforms_subform,"i1",xsltforms_model_8_2_2_,false,"application/xml",null,'<Address xmlns=""><LocationStreet date="2010-05-01">Street 1 </LocationStreet><LocationStreet date="2010-05-02">Street 2 </LocationStreet><LocationStreet date="2010-05-03">Street 3 </LocationStreet></Address>');
new XsltForms_output(xsltforms_subform,"outputSavedContent",1,new XsltForms_binding(null, "instance('i0')/description"),null);
new XsltForms_input(xsltforms_subform,xsltforms_subform.id + "-textarea-2_4_4_2_",2,"textarea",new XsltForms_binding(null, "instance('i0')/description"),null,"true",null,null,null);
XsltForms_browser.dialog.show('statusPanel');
if (xsltforms_subform.id === "xsltforms-mainform") {
XsltForms_browser.idPf = xsltforms_subform.id + "-";
var xsltforms_model_config = new XsltForms_model(xsltforms_subform,xsltforms_subform.id + "-model-config",null);
var xsltforms_instance_config = new XsltForms_instance(xsltforms_subform,xsltforms_subform.id + "-instance-config",xsltforms_model_config,true,'application/xml',null,'<properties xmlns=""><language>navigator</language><calendar.day0>Mon</calendar.day0><calendar.day1>Tue</calendar.day1><calendar.day2>Wed</calendar.day2><calendar.day3>Thu</calendar.day3><calendar.day4>Fri</calendar.day4><calendar.day5>Sat</calendar.day5><calendar.day6>Sun</calendar.day6><calendar.initDay>6</calendar.initDay><calendar.month0>January</calendar.month0><calendar.month1>February</calendar.month1><calendar.month2>March</calendar.month2><calendar.month3>April</calendar.month3><calendar.month4>May</calendar.month4><calendar.month5>June</calendar.month5><calendar.month6>July</calendar.month6><calendar.month7>August</calendar.month7><calendar.month8>September</calendar.month8><calendar.month9>October</calendar.month9><calendar.month10>November</calendar.month10><calendar.month11>December</calendar.month11><format.date>MM/dd/yyyy</format.date><format.datetime>MM/dd/yyyy hh:mm:ss</format.datetime><format.decimal>.</format.decimal><status>... Loading ...</status></properties>');
XsltForms_browser.config = xsltforms_instance_config.doc.documentElement;
var d2 = new Date();
XsltForms_globals.creatingtime = d2 - d1;
XsltForms_globals.init();
var d3 = new Date();
XsltForms_globals.inittime = d3 - d2;
} else {
xsltforms_subform.construct();
XsltForms_globals.openAction();
XsltForms_globals.refresh();
XsltForms_globals.closeAction();
XsltForms_browser.dialog.hide('statusPanel');
}
} catch (e) {
XsltForms_browser.dialog.hide('statusPanel');
if (!XsltForms_globals.debugMode) {
XsltForms_globals.debugMode = true;
XsltForms_globals.debugging();
}
alert("XSLTForms Exception\n--------------------------\n\nError initializing :\n\n"+(typeof(e.stack)=="undefined"?"":e.stack)+"\n\n"+(e.name?e.name+(e.message?"\n\n"+e.message:""):e));
} /* XsltForms_MagicSeparator */ }; 